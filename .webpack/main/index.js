(()=>{var e={298:e=>{"use strict";e.exports=require("electron")},147:e=>{"use strict";e.exports=require("fs")},901:e=>{"use strict";e.exports=require("original-fs")},17:e=>{"use strict";e.exports=require("path")}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}(()=>{const{app:e,BrowserWindow:t,ipcMain:s}=n(298),{fstat:i}=n(901),o=n(147),r=n(17),a={width:800,height:600,y:0,webPreferences:{preload:r.join(__dirname,"preload.js")}};let l,d;e.whenReady().then((n=>{s.on("detailsUpdated",((e,t)=>{d.webContents.send("updateDetails",t),o.writeFileSync(r.join(__dirname,"details.txt"),t)})),s.on("imageClicked",((e,t)=>{d.webContents.send("showImage",t)})),s.on("playVideo",((e,t)=>{d.webContents.send("playVideo",t)})),s.on("showText",((e,t)=>{d.webContents.send("showText",t)})),s.on("clear",((e,t)=>{d.webContents.send("clear",t)})),s.on("getFiles",(e=>{let t,n={videos:s("_media/videos"),images:s("_media/images"),sfx:s("_media/sfx")};l.webContents.send("listFiles",n);try{t=o.readFileSync(r.join(__dirname,"details.txt"),{encoding:"utf8"})}catch(e){console.log(e)}function s(e){let t=[];!function(e){o.existsSync(e)||o.mkdirSync(e,options={recursive:!0})}(e);const n=o.readdirSync(e);for(let s=0;s<n.length;s++)t.push({name:r.parse(n[s]).name,url:r.join(__dirname,e,n[s])});return t}l.webContents.send("loadPreviousText",t)})),l=new t({...a,x:0}),l.loadFile("windows/controls.html"),d=new t({...a,x:a.width,titleBarOverlay:!0,fullscreenable:!1}),d.loadFile("windows/show.html"),d.setMenu(null),d.setMenuBarVisibility(!1),e.on("activate",(()=>{0===t.getAllWindows().length&&createWindow()}))})),e.on("window-all-closed",(()=>{"darwin"!==process.platform&&e.quit()}))})(),module.exports={}})();
//# sourceMappingURL=index.js.map