(()=>{var e={298:e=>{"use strict";e.exports=require("electron")},147:e=>{"use strict";e.exports=require("fs")},901:e=>{"use strict";e.exports=require("original-fs")},17:e=>{"use strict";e.exports=require("path")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}(()=>{const{app:e,BrowserWindow:t,ipcMain:s}=n(298),{fstat:o}=n(901),r=n(147),i=n(17),a={width:800,height:600,webPreferences:{preload:i.join(__dirname,"preload.js")}};let l,d;const c=(e=>{let t={list:e=>{const t=t.join(__dirname,`_media/${e}`);r.readdir(t,((t,n)=>{t&&console.error(t),l.webContents.send(`${e}-list`,{path:n})}))}};return t})();e.whenReady().then((n=>{s.on("imageClicked",((e,t)=>{d.webContents.send("showImage",t)})),s.on("playVideo",((e,t)=>{const n=i.join(__dirname,t);d.webContents.send("playVideo",n)})),s.on("getFiles",(e=>{let t={images:n("_media/images"),sfx:n("_media/sfx")};function n(e){let t=[];const n=r.readdirSync(e);for(let s=0;s<n.length;s++)t.push({name:i.parse(n[s]).name,url:i.join(__dirname,e,n[s])});return t}console.log(t),l.webContents.send("listFiles",t)})),l=new t(a),l.loadFile("windows/controls.html"),d=new t(a),d.loadFile("windows/show.html"),e.on("activate",(()=>{0===t.getAllWindows().length&&createWindow()})),c.list("images"),c.list("sound")})),e.on("window-all-closed",(()=>{"darwin"!==process.platform&&e.quit()}))})(),module.exports={}})();
//# sourceMappingURL=index.js.map